# Changelog

All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),
and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

This changelog is automatically generated by [semantic-release](https://github.com/semantic-release/semantic-release).

## [2.0.0] - 2025-01-12 - Complete Multi-Provider & Advanced Features Release

### üåü MAJOR FEATURES (From Groq Fork Base)

#### üî• Multi-LLM Provider Architecture
- **Multiple Provider Support**: Now supports Groq, Ollama, and LM Studio
- **Unified Provider Management**: Seamless switching between different AI providers
- **Auto-Detection**: Automatically detects available providers on your system
- **Smart Fallback**: Falls back to available providers when primary fails
- **Provider Health Monitoring**: Real-time status checking and error reporting

#### ü§ñ Advanced Agent Management System (NEW)
- **Custom Agents**: Create and manage multiple AI personalities
- **Agent Persistence**: Agents saved across sessions with metadata
- **Agent Sharing**: Export/import agents as JSON files for team collaboration
- **Built-in Agent Library**: Pre-configured agents for different use cases
- **Agent Commands**:
  - `/agent [name]` - Switch to different agent or list available
  - `/agents` - List all agents with details and usage statistics
  - `/agent-create <name> <prompt>` - Create custom agent with system prompt
  - `/agent-delete <name>` - Delete custom agent (with confirmation)
  - `/agent-export <name> <file>` - Export agent configuration to file
  - `/agent-import <file>` - Import agent from file with validation
  - `/system <prompt>` - Set temporary system prompt for current session
  - `/system-reset` - Reset to default system prompt
- **Dynamic System Prompts**: Change AI behavior without restarting
- **Agent Metadata**: Track creation date, usage stats, and configuration

#### üîÑ Session Management System (NEW)
- **Auto-Save**: Automatic session persistence after each interaction
- **Auto-Restore**: Automatic session restoration on CLI startup (24h expiry)
- **Session Commands**:
  - `/session save` - Manually save current session with timestamp
  - `/session restore` - Restore last saved session with full context
  - `/session clear` - Delete saved session data
  - `/session status` - Show detailed session information
  - `/sess` - Short alias for all session commands
- **Smart Expiration**: Sessions expire after 24 hours for security
- **Context Preservation**: Saves provider, model, and conversation history
- **Optimized Storage**: Only saves last 20 messages to prevent bloat
- **Cross-Session Continuity**: Resume conversations exactly where you left off

#### üö® Robust Interrupt Handling System (NEW)
- **ESC Key Interrupt**: Smart, context-aware interruption system
- **Multi-Level Interrupts**: Different behaviors for different contexts
- **Safe Tool Interruption**: Prevent dangerous mid-execution stops
- **UI State Management**: Clean interrupt handling in terminal interface
- **Interrupt Contexts**:
  - During AI processing/generation
  - During tool approval prompts
  - While typing (clear input)
  - During long operations
- **Graceful Recovery**: System state maintained after interruptions
- **User Control**: Full control over AI responses and tool execution

#### üåê Multi-Provider Slash Commands (NEW)
- `/providers` (aliases: `/prov`, `/p`) - Comprehensive provider status and health
- `/switch <provider>` (aliases: `/sw`, `/provider`) - Hot-swap between providers
- `/models [query]` (aliases: `/m`, `/model-list`) - Search models across all providers
- `/provider-help` (aliases: `/phelp`, `/setup`) - Interactive setup guide
- **Provider Integration**: Each provider fully integrated with all CLI features
- **Status Monitoring**: Real-time connection and availability checking

#### üõ†Ô∏è Cross-Platform Development Tools (NEW)
- **Automated Install/Uninstall Scripts**:
  - Linux/macOS: `install.sh`, `uninstall.sh`
  - Windows: `install.ps1`, `install.bat`, `uninstall.ps1`
- **Development Workflow Enhancements**:
  - `npm run dev` - Watch mode for development
  - Auto-rebuild on source changes
  - Enhanced debugging tools
- **Platform Detection**: Automatic OS-specific optimizations
- **Clean Uninstall**: Complete removal with dry-run option

#### üìö Comprehensive Documentation System (NEW)
- **Multilingual Support**: Full documentation in English and Spanish
- **README.es.md**: Complete Spanish translation
- **Interactive Help**: Enhanced `/help` with examples and usage
- **Provider Guides**: Detailed setup instructions for each provider
- **Command Reference**: Comprehensive command documentation
- **Troubleshooting Guides**: Common issues and solutions

#### üéØ Enhanced Model Management
- **Cross-Provider Model Search**: Search models across all providers simultaneously
- **Detailed Model Info**: Context length, function support, model size, quantization
- **Unified Model Listing**: Browse all available models from one interface
- **Dynamic Model Switching**: Change models without losing chat history
- **Model Recommendations**: Smart suggestions based on task type
- **Performance Metrics**: Model speed and resource usage information
- **History Preservation**: Chat context maintained when switching models
- **Concurrent Switch Protection**: Prevents multiple simultaneous model changes

#### ‚ö° CLI Enhancement Commands (NEW)
- **Version Management**:
  - `/version`, `/v` - Show current CLI version with detailed information
  - `/update` - Check for updates and automatically upgrade to latest version
  - Auto-update notifications and prompts
  - Semantic versioning support with changelog integration
- **Enhanced Help System**: 
  - Interactive `/help` with searchable command reference
  - Context-sensitive help based on current provider
  - Examples and usage patterns for each command
  - Troubleshooting tips and common solutions

#### üîç Advanced Provider Error Handling (NEW)
- **Smart Error Detection**: Automatic diagnosis of common provider issues
- **Memory Management**: 
  - GPU memory exhaustion detection for Ollama
  - Suggestions for smaller models or CPU fallback
  - Memory optimization recommendations
- **Connection Diagnostics**:
  - Real-time provider health monitoring
  - Detailed connection error messages
  - Auto-retry with exponential backoff
- **Provider-Specific Guidance**:
  - Ollama: Model loading, memory issues, server status
  - LM Studio: Server configuration, model loading status
  - Groq: API key validation, rate limiting, quota management

#### üåç Internationalization & Accessibility (NEW)
- **Full Spanish Support**: Complete CLI experience in Spanish
- **Bilingual Documentation**: All features documented in both languages
- **Localized Error Messages**: Error messages and help in user's language
- **Cultural Adaptations**: Date formats, number formats, and conventions
- **Accessibility Features**: 
  - Screen reader friendly output
  - High contrast mode support
  - Keyboard-only navigation

### üõ†Ô∏è TECHNICAL IMPROVEMENTS

#### Core Architecture Refactor
- **Provider Manager**: New centralized provider management system
- **Abstracted LLM Interface**: Common interface for all provider types
- **Configuration Management**: Persistent provider configurations
- **Health Checking**: Real-time provider availability monitoring

#### Enhanced Agent System
- **Provider-Agnostic Chat**: Agent now works with any supported provider
- **Dynamic Provider Switching**: Hot-swap providers without losing context
- **Improved Error Handling**: Better error messages and recovery

### üîÑ BACKWARDS COMPATIBILITY

#### Legacy Support Maintained
- **Groq API Key**: Existing `/login` command still works
- **All Existing Commands**: No breaking changes to current functionality
- **Configuration Migration**: Automatic migration of existing settings

### üìã PROVIDER DETAILS

#### Groq (Cloud)
- **Fast Inference**: Lightning-fast cloud-based processing
- **API Key Based**: Uses existing authentication method
- **Multiple Models**: llama-3.1-405b, llama-3.1-70b, llama-3.1-8b, mixtral-8x7b, etc.

#### Ollama (Local)
- **Privacy First**: All processing happens locally
- **No API Keys**: No external authentication required
- **Custom Models**: Support for any Ollama-compatible model
- **Auto-Detection**: Detects localhost:11434 automatically

#### LM Studio (Local GUI)
- **User Friendly**: GUI-based local model management
- **Local Server**: Uses LM Studio's built-in server
- **Model Loading**: Manages model loading through GUI
- **Easy Setup**: Point-and-click model management

### üêõ BUG FIXES
- Fixed async/await issues in API key management
- Improved error handling for provider failures
- Better handling of aborted requests
- Enhanced type safety across provider interfaces
- Resolved session corruption issues with malformed responses
- Fixed concurrent model switching race conditions
- Improved memory leak prevention in long-running sessions
- Enhanced provider connection timeout handling
- Fixed CLI startup issues with corrupted configurations

### üìö DOCUMENTATION
- **PROVIDERS.md**: Comprehensive multi-provider guide (English/Spanish)
- **Updated README**: Multi-provider setup and usage instructions (English/Spanish)
- **CHANGELOG.md**: Detailed version history with all features
- **Inline Help**: Enhanced command help with examples and troubleshooting
- **Command Reference**: Complete documentation of all 25+ slash commands
- **Setup Guides**: Step-by-step provider configuration instructions
- **Troubleshooting**: Common issues and solutions for all providers

### üìä DEVELOPMENT METRICS (Fork Progress)

#### Code Changes
- **New Files Added**: 15+ new TypeScript files
- **Modified Files**: 30+ enhanced existing files
- **Lines of Code**: ~3,000+ new lines added
- **New Commands**: 25+ slash commands implemented
- **Provider Integrations**: 3 complete LLM provider implementations

#### Feature Implementation
- **Major Systems**: 6 new major feature systems
- **Command Categories**: 5 distinct command categories
- **Language Support**: 2 languages (English/Spanish)
- **Platform Support**: 3 platforms (Linux/macOS/Windows)
- **Provider Support**: 3 LLM providers (Groq/Ollama/LM Studio)

#### User Experience Improvements
- **New User Workflows**: 10+ new user interaction patterns
- **Error Scenarios Handled**: 50+ specific error conditions
- **Interrupt Contexts**: 8+ different interrupt handling scenarios
- **Session States**: 5+ persistent session management states
- **Agent Personalities**: Unlimited custom agent creation capability

### üéÜ MIGRATION FROM ORIGINAL GROQ CLI

#### What's New vs Original
- **Multi-Provider Support**: Original only supported Groq, now supports 3 providers
- **Session Persistence**: Original had no session management, now full auto-save/restore
- **Agent System**: Original had fixed behavior, now unlimited custom agents
- **Interrupt Handling**: Original had basic Ctrl+C, now smart ESC-based system  
- **Internationalization**: Original English-only, now bilingual
- **Error Handling**: Original basic errors, now comprehensive diagnostics
- **Installation**: Original manual only, now automated cross-platform installers
- **Documentation**: Original basic README, now comprehensive multilingual docs

#### Backward Compatibility
- **100% Compatible**: All original Groq CLI features work unchanged
- **Migration**: Existing users upgrade seamlessly
- **Configuration**: Original settings automatically preserved and enhanced
- **Commands**: All original commands maintained with enhancements

---

## [1.0.2] - Previous Version (Original Groq CLI Base)

- Initial setup with semantic-release automation
- Single provider support (Groq only)
- Basic agent functionality
- Tool system
- Slash commands
- Terminal UI
- Original Groq-only implementation
